Приложение Smart это Android-клиент для Базы Данных ab-log demo: http://ab-log.ru/smart-house/linux/demo-src

Перед запуском приложения:

1. Создать sql-таблицы (каталог sql) в БД, заполнить своими данными:

Таблица "camera_set" - настройки для доступа к текущим снимкам с видеокамер и для формирования url видеопотока.
Таблица "temperature_set" - настройки для установки желаемой (целевой) температуры в помещениях, а также для формирования
списка объектов, температура которых будет отображена на клиенте.
Установка желаемой температуры в таблице "temperature_set" подразумевает что будет работать (по crontab например) скрипт, 
считывающий эту температуру и сверяющий с текущей. Соответственно включающий-выключающий нужное устройство (пример - samples/poll_1.php)

Таблица "tmp_26" - снэпшоты с видеокамер, привязаные к датчикам или другим событиям. Формируются отдельным скриптом.
Таблица "tmp_30" - показания с электросчётчика Меркурий-200. Формируются отдельным скриптом.

Таблицы "tmp_26" и "tmp_30" можно создать напрямую из sql или из cms ab-log demo.

Присутствуют связи (внешние ключи) с "родной" таблицей tCont.

Таблицы "camera_set" и "temperature_set" создаются только из sql.

Некоторые поля новых sql-таблиц дублируют данные из таблицы tCont - это плохой стиль sql, но сделано умышленно чтобы не трогать "родные" таблицы 
для гарантированной работоспособности  web-клиентов и беспроблемного апргрейда на новые версии ab-log demo.

2. php-файлы (каталог php) разместить на web-сервере в каталоге /android , отредактировать под свою систему.

3. Для видео использован  rtmp-поток.
Раздача rtmp-потока реализована в nginx, скомпилированного с ключами --add-module=/path_to/nginx-rtmp-module-master --with-http_secure_link_module.
Путь к видеопотоку генерируется на стороне сервера, используя пароль и действует ограниченное время (модуль --with-http_secure_link_module).
Пароль к потоку rtmp прописывается в 2 местах: в nginx.conf и в php-скрипте (cameras.php). Должен совпадать!
Не путать с паролем самой IP-видеокамеры, пароль к ней задаётся только в nginx.conf (поток rtsp).
Пример (samples/nginx.conf) прилагается.
На смартфоне должен быть установлен VLC ( для просмотра rtmp-потока).


4. Устанавливаем Android-studio, импортируем проект из каталога android. 

5. Для аутентификации приложения - добавить пользователя на web-сервере, например в файл .htaccess.
В закладке "Настройки" приложения прописать имя пользователя и пароль.

